"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[66],{90066:(ut,T,l)=>{l.r(T),l.d(T,{ParticipantsModule:()=>dt});var g=l(69808),s=l(93075),o=l(32075),c=l(48966);class f{constructor(a){this.id=a.id,this.name=a.name,this.prenom=a.prenom,this.datenaissance=a.datenaissance,this.genre=a.genre,this.contact=a.contact,this.email=a.email,this.photo=a.photo,this.profession=a.profession,this.password=a.password,this.adresse=a.adresse,this.idRole=a.idRole,this.date_naissance=a.date_naissance,this.lieu_naissance=a.lieu_naissance,this.Pays_naissance=a.Pays_naissance,this.numero_cnib=a.numero_cnib,this.date_etablissement=a.date_etablissement,this.lieu_etablissement=a.lieu_etablissement,this.dernier_diplome=a.dernier_diplome,this.idProvince=a.idProvince,this.idSession=a.idSession}}var t=l(5e3),F=l(55384);let Z=(()=>{class i{constructor(e){this.apiService=e}getAll(){return this.apiService.get("api/participants/")}delete(e){return this.apiService.delete("api/participants/"+e.id)}add(e){return this.apiService.post("api/participants",e)}update(e,n){return this.apiService.post("api/updateParticipant/"+e,n)}get(e){return this.apiService.get("api/participants/"+e)}getSessions(){return this.apiService.get("api/sessions/")}getParticipants_Session(e){return this.apiService.get("api/participant_session/"+e)}addPartSession(e){return this.apiService.post("api/addParticipant_session/",e)}valider(e,n){return this.apiService.get("api/valider/"+e+"/"+n)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(F.s))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var d=l(67322),h=l(25245),A=l(98833),C=l(74107),q=l(90508),v=l(47423);let b=(()=>{class i{constructor(e,n,r,p,m){this.fb=e,this._formBuilder=n,this._data=r,this.matDialogRef=p,this.participantsService=m,this.imagepath="http://127.0.0.1:8000/storage/",this.action="new",this.formFieldHelpers=[""],this.participant=new f(r.participant),console.log(this.participant),this.action=r.action,this.participantForm=this.createParticipantForm()}ngOnInit(){this.url="new"==this.action?"../assets/avatar.png":"http://127.0.0.1:8000/storage/"+this.participant.photo}createParticipantForm(){return this._formBuilder.group({name:[this.participant.name],prenom:[this.participant.prenom],genre:[this.participant.genre],contact:[this.participant.contact],email:[this.participant.email],password:[this.participant.password],adresse:[this.participant.adresse],photo:[this.participant.photo],profession:[this.participant.profession],date_naissance:[this.participant.date_naissance],lieu_naissance:[this.participant.lieu_naissance],Pays_naissance:[this.participant.Pays_naissance],numero_cnib:[this.participant.numero_cnib],date_etablissement:[this.participant.date_etablissement],lieu_etablissement:[this.participant.lieu_etablissement],dernier_diplome:[this.participant.dernier_diplome]})}onselectFiles(e){if(e.target.files){var n=new FileReader;n.readAsDataURL(e.target.files[0]),n.onload=p=>{this.url=p.target.result},this.participantForm.patchValue({photo:e.target.files[0]}),this.participantForm.get("photo").updateValueAndValidity()}}onSubmit(){var e;"new"==this.action?((e=new FormData).append("name",this.participantForm.get("name").value),e.append("email",this.participantForm.get("email").value),e.append("password",this.participantForm.get("password").value),e.append("genre",this.participantForm.get("genre").value),e.append("contact",this.participantForm.get("contact").value),e.append("prenom",this.participantForm.get("prenom").value),e.append("date_naissance",this.participantForm.get("date_naissance").value),e.append("photo",this.participantForm.get("photo").value),e.append("profession",this.participantForm.get("profession").value),e.append("date_naissance",this.participantForm.get("date_naissance").value),e.append("lieu_naissance",this.participantForm.get("lieu_naissance").value),e.append("Pays_naissance",this.participantForm.get("Pays_naissance").value),e.append("numero_cnib",this.participantForm.get("numero_cnib").value),e.append("date_etablissement",this.participantForm.get("date_etablissement").value),e.append("lieu_etablissement",this.participantForm.get("lieu_etablissement").value),e.append("dernier_diplome",this.participantForm.get("dernier_diplome").value),console.log(e),this.participantsService.add(e).subscribe(n=>{this.matDialogRef.close(this.participantForm)},n=>{console.log(n)})):((e=new FormData).append("name",this.participantForm.get("name").value),e.append("email",this.participantForm.get("email").value),e.append("password",this.participantForm.get("password").value),e.append("genre",this.participantForm.get("genre").value),e.append("contact",this.participantForm.get("contact").value),e.append("prenom",this.participantForm.get("prenom").value),e.append("date_naissance",this.participantForm.get("date_naissance").value),e.append("photo",this.participantForm.get("photo").value),e.append("adresse",this.participantForm.get("adresse").value),e.append("profession",this.participantForm.get("profession").value),e.append("date_naissance",this.participantForm.get("date_naissance").value),e.append("lieu_naissance",this.participantForm.get("lieu_naissance").value),e.append("Pays_naissance",this.participantForm.get("Pays_naissance").value),e.append("numero_cnib",this.participantForm.get("numero_cnib").value),e.append("date_etablissement",this.participantForm.get("date_etablissement").value),e.append("lieu_etablissement",this.participantForm.get("lieu_etablissement").value),e.append("dernier_diplome",this.participantForm.get("dernier_diplome").value),console.log(e),this.participantsService.update(this.participant.id,e).subscribe(r=>{console.log(r),this.matDialogRef.close(this.participantForm)}))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(s.qu),t.Y36(c.WI),t.Y36(c.so),t.Y36(Z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-add"]],inputs:{name:"name"},decls:90,vars:14,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"sm:p-6","w-200"],[1,"",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"flex"],[1,"relative","flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card"],[1,"object-cover","w-full","h-full",3,"src"],[1,"flex","mt-5"],["type","file",3,"change"],[1,"flex","mt-8"],[1,"w-3/5","pr-2"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","formControlName","name","required",""],[1,"w-3/5","pl-2"],["matInput","","formControlName","prenom","required",""],["required","",3,"formControlName"],[3,"value"],["matInput","","formControlName","contact","required",""],[1,"w-3/5"],["matInput","","formControlName","email","required",""],["matInput","","formControlName","password","required",""],["type","date","matInput","","formControlName","date_naissance","required",""],["matInput","","formControlName","lieu_naissance","required",""],["matInput","","formControlName","Pays_naissance","required",""],["type","date","matInput","","formControlName","date_etablissement","required",""],["matInput","","formControlName","lieu_etablissement","required",""],["matInput","","formControlName","numero_cnib","required",""],["matInput","","formControlName","profession","required",""],["matInput","","formControlName","dernier_diplome","required",""],["matInput","","formControlName","adresse","required",""],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""],["mat-button","",3,"disabled","click"]],template:function(e,n){1&e&&(t.TgZ(0,"h2",0),t._uU(1),t.qZA(),t.TgZ(2,"div",1)(3,"form",2)(4,"div",3)(5,"div",4)(6,"div",5),t._UZ(7,"img",6),t.qZA()(),t.TgZ(8,"div",7)(9,"input",8),t.NdJ("change",function(p){return n.onselectFiles(p)}),t.qZA()(),t.TgZ(10,"div",9)(11,"mat-form-field",10)(12,"mat-label"),t._uU(13,"Nom"),t.qZA(),t._UZ(14,"mat-icon",11)(15,"input",12),t.qZA(),t.TgZ(16,"mat-form-field",13)(17,"mat-label"),t._uU(18,"Pr\xe9nom(s)"),t.qZA(),t._UZ(19,"mat-icon",11)(20,"input",14),t.qZA(),t.TgZ(21,"mat-form-field",13)(22,"mat-label"),t._uU(23,"Genre"),t.qZA(),t.TgZ(24,"mat-select",15)(25,"mat-option",16),t._uU(26,"HOMME"),t.qZA(),t.TgZ(27,"mat-option",16),t._uU(28,"FEMME"),t.qZA()()()(),t.TgZ(29,"div",4)(30,"mat-form-field",10)(31,"mat-label"),t._uU(32,"Contact"),t.qZA(),t._UZ(33,"mat-icon",11)(34,"input",17),t.qZA(),t.TgZ(35,"mat-form-field",18)(36,"mat-label"),t._uU(37,"E-mail"),t.qZA(),t._UZ(38,"mat-icon",11)(39,"input",19),t.qZA(),t.TgZ(40,"mat-form-field",13)(41,"mat-label"),t._uU(42,"Mot de passe"),t.qZA(),t._UZ(43,"input",20),t.qZA()(),t.TgZ(44,"div",4)(45,"mat-form-field",13)(46,"mat-label"),t._uU(47,"Date naissance"),t.qZA(),t._UZ(48,"mat-icon",11)(49,"input",21),t.qZA(),t.TgZ(50,"mat-form-field",13)(51,"mat-label"),t._uU(52,"Lieu naissance"),t.qZA(),t._UZ(53,"input",22),t.qZA(),t.TgZ(54,"mat-form-field",13)(55,"mat-label"),t._uU(56,"Pays de naissance"),t.qZA(),t._UZ(57,"input",23),t.qZA()(),t.TgZ(58,"div",4)(59,"mat-form-field",13)(60,"mat-label"),t._uU(61,"Date d'\xe9tablissement"),t.qZA(),t._UZ(62,"mat-icon",11)(63,"input",24),t.qZA(),t.TgZ(64,"mat-form-field",13)(65,"mat-label"),t._uU(66,"Lieu \xe9tablissement"),t.qZA(),t._UZ(67,"input",25),t.qZA(),t.TgZ(68,"mat-form-field",13)(69,"mat-label"),t._uU(70,"Numero du cnib"),t.qZA(),t._UZ(71,"input",26),t.qZA()(),t.TgZ(72,"div",4)(73,"mat-form-field",18)(74,"mat-label"),t._uU(75,"Profession"),t.qZA(),t._UZ(76,"input",27),t.qZA(),t.TgZ(77,"mat-form-field",13)(78,"mat-label"),t._uU(79,"Dernier dipl\xf4me"),t.qZA(),t._UZ(80,"input",28),t.qZA(),t.TgZ(81,"mat-form-field",13)(82,"mat-label"),t._uU(83,"Adresse"),t.qZA(),t._UZ(84,"input",29),t.qZA()()()()(),t.TgZ(85,"div",30)(86,"button",31),t._uU(87,"Annuler"),t.qZA(),t.TgZ(88,"button",32),t.NdJ("click",function(){return n.onSubmit()}),t._uU(89),t.qZA()()),2&e&&(t.xp6(1),t.Oqu("new"==n.action?"Ajouter un participant":"Modifier le participant "+n.participant.name+" "+n.participant.prenom),t.xp6(2),t.Q6J("formGroup",n.participantForm),t.xp6(4),t.Q6J("src",n.url,t.LSH),t.xp6(7),t.Q6J("svgIcon","heroicons_solid:user-circle"),t.xp6(5),t.Q6J("svgIcon","heroicons_solid:user-circle"),t.xp6(5),t.Q6J("formControlName","genre"),t.xp6(1),t.Q6J("value","HOMME"),t.xp6(2),t.Q6J("value","FEMME"),t.xp6(6),t.Q6J("svgIcon","heroicons_outline:phone"),t.xp6(5),t.Q6J("svgIcon","heroicons_solid:mail"),t.xp6(10),t.Q6J("svgIcon","heroicons_solid:cake"),t.xp6(14),t.Q6J("svgIcon","heroicons_solid:cake"),t.xp6(26),t.Q6J("disabled",!n.participantForm.valid),t.xp6(1),t.hij(" ","new"==n.action?"Enregister":"Modifier",""))},directives:[c.uh,c.xY,s._Y,s.JL,s.sg,d.KE,d.hX,h.Hw,d.qo,A.Nt,s.Fj,s.JJ,s.u,s.Q7,C.gD,q.ey,c.H8,v.lW,c.ZT],styles:[""]}),i})();var u=l(4521);function P(i,a){1&i&&(t.TgZ(0,"th",29),t._uU(1," No. "),t.qZA())}function y(i,a){if(1&i&&(t.ynx(0),t._UZ(1,"img",33),t.BQk()),2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(1),t.Q6J("src",n.imagepath+e.photo,t.LSH)}}function S(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",34),t._uU(2),t.qZA(),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.name.charAt(0)," ")}}const _=function(i){return["/custom/participants/",i]};function J(i,a){if(1&i&&(t.TgZ(0,"td",30)(1,"div",31),t.YNc(2,y,2,1,"ng-container",32),t.YNc(3,S,3,1,"ng-container",32),t.qZA()()),2&i){const e=a.$implicit;t.Q6J("routerLink",t.VKq(3,_,e.id)),t.xp6(2),t.Q6J("ngIf",e.photo),t.xp6(1),t.Q6J("ngIf",!e.photo)}}function N(i,a){1&i&&(t.TgZ(0,"th",35),t._uU(1," Nom & Pr\xe9nom (s) "),t.qZA())}function Q(i,a){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("routerLink",t.VKq(3,_,e.id)),t.xp6(1),t.AsE(" ",e.name," ",e.prenom," ")}}function k(i,a){1&i&&(t.TgZ(0,"th",35),t._uU(1," E-mail "),t.qZA())}function I(i,a){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("routerLink",t.VKq(2,_,e.id)),t.xp6(1),t.hij(" ",e.email,"")}}function D(i,a){1&i&&(t.TgZ(0,"th",35),t._uU(1," Profession "),t.qZA())}function Y(i,a){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("routerLink",t.VKq(2,_,e.id)),t.xp6(1),t.hij(" ",e.profession," ")}}function O(i,a){1&i&&(t.TgZ(0,"th",35),t._uU(1," Contact "),t.qZA())}function M(i,a){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("routerLink",t.VKq(2,_,e.id)),t.xp6(1),t.hij(" ",e.contact," ")}}function j(i,a){1&i&&t._UZ(0,"tr",36)}function L(i,a){1&i&&t._UZ(0,"tr",37)}const H=function(){return["/dashboards/project"]};let E=(()=>{class i{constructor(e,n){this._matDialog=e,this.participantService=n,this.imagepath="http://127.0.0.1:8000/storage/",this.searchControl=new s.NI,this.dataSource=new o.by,this.displayedColumns=["id","nomprenom","contact","profession","email"]}recherche(e){e=(e=e.trim()).toLowerCase(),this.dataSource.filter=e}ngOnInit(){this.getDataParticipants()}getDataParticipants(){this.participantService.getAll().subscribe(e=>{this.dataSource.data=e})}ajouter(){this.dialogRef=this._matDialog.open(b,{panelClass:"",data:{participant:{},action:"new"}}),this.dialogRef.afterClosed().subscribe(e=>{!e||this._updateDataSource()})}_updateDataSource(){this.getDataParticipants()}editer(e){this.dialogRef=this._matDialog.open(b,{panelClass:"",data:{participant:new f(e),action:"update"}}),this.dialogRef.afterClosed().subscribe(n=>{!n||this._updateDataSource()})}supprimer(e){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(c.uw),t.Y36(Z))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-participants"]],decls:42,vars:10,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","pr-6","pl-6","pt-1","pb-1","sm:px-10","border-b","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLinkActive","router-link-active",1,"whitespace-nowrap","text-primary-500",3,"routerLink"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-default-500"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","w-full","min-w-0"],[1,"flex","flex-col","w-full"],[1,"flex"],[1,"w-1/3"],["matInput","",3,"formControl","placeholder","ngModelChange"],[1,"w-2/3","text-right","items-center"],["mat-flat-button","",1,"ml-4",3,"color","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],["mat-table","",1,"mat-elevation-z1","w-full",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","class","mdd2",4,"matHeaderCellDef"],["mat-cell","",3,"routerLink",4,"matCellDef"],["matColumnDef","nomprenom"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","profession"],["matColumnDef","contact"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"mdd2"],["mat-cell","",3,"routerLink"],[1,"flex","flex-0","items-center","justify-center","w-13","h-13","rounded-full","overflow-hidden"],[4,"ngIf"],["alt","photo",1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","rounded-full","text-lg","uppercase","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],["mat-header-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t._uU(6,"Tableau de board"),t.qZA()(),t.TgZ(7,"div",5),t._UZ(8,"mat-icon",6),t.TgZ(9,"a",7),t._uU(10,"Participants"),t.qZA()()()()(),t.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"mat-form-field",12)(16,"mat-label"),t._uU(17,"Rechercher"),t.qZA(),t.TgZ(18,"input",13),t.NdJ("ngModelChange",function(p){return n.recherche(p)}),t.qZA()(),t.TgZ(19,"div",14)(20,"button",15),t.NdJ("click",function(){return n.ajouter()}),t._UZ(21,"mat-icon",16),t.TgZ(22,"span",17),t._uU(23,"Ajouter"),t.qZA()()()(),t.TgZ(24,"table",18),t.ynx(25,19),t.YNc(26,P,2,0,"th",20),t.YNc(27,J,4,5,"td",21),t.BQk(),t.ynx(28,22),t.YNc(29,N,2,0,"th",23),t.YNc(30,Q,2,5,"td",21),t.BQk(),t.ynx(31,24),t.YNc(32,k,2,0,"th",23),t.YNc(33,I,2,4,"td",21),t.BQk(),t.ynx(34,25),t.YNc(35,D,2,0,"th",23),t.YNc(36,Y,2,4,"td",21),t.BQk(),t.ynx(37,26),t.YNc(38,O,2,0,"th",23),t.YNc(39,M,2,4,"td",21),t.BQk(),t.YNc(40,j,1,0,"tr",27),t.YNc(41,L,1,0,"tr",28),t.qZA()()()()()),2&e&&(t.xp6(5),t.Q6J("routerLink",t.DdM(9,H)),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:chevron-right"),t.xp6(10),t.Q6J("formControl",n.searchControl)("placeholder","Search for a page or a contact"),t.xp6(2),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:plus"),t.xp6(3),t.Q6J("dataSource",n.dataSource),t.xp6(16),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns))},directives:[u.yS,u.Od,h.Hw,d.KE,d.hX,A.Nt,s.Fj,s.JJ,s.oH,v.lW,o.BZ,o.w1,o.fO,o.ge,o.Dz,o.ev,u.rH,g.O5,o.as,o.XQ,o.nj,o.Gk],styles:[".mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{cursor:pointer}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{background-color:#e2e8f0}.mdd2[_ngcontent-%COMP%]{width:5%!important}"]}),i})();var R=l(80672);function B(i,a){if(1&i&&(t.TgZ(0,"mat-option",12),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.id),t.xp6(1),t.Oqu(e.libelle)}}let U=(()=>{class i{constructor(e,n,r,p,m){this._formBuilder=e,this._data=n,this.matDialogRef=r,this.participantService=p,this.route=m,this.formFieldHelpers=[""],this.displayedColumns=["idSession","idParticipant"],this.participant=new f(n.participant),this.getSessions()}ngOnInit(){this.getSessions(),this.psessionForm=this._formBuilder.group({idSession:["",s.kI.required],idParticipant:this.participant.id})}getSessions(){this.participantService.getSessions().subscribe(e=>{this.session=e})}onSubmit(){this.participantService.addPartSession(this.psessionForm.value).subscribe({next:e=>{alert("session ajouter avec succes"),this.psessionForm.reset(),this.matDialogRef.close("save")},error:()=>{alert("session non ajouter")}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(s.qu),t.Y36(c.WI),t.Y36(c.so),t.Y36(Z),t.Y36(u.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-addps"]],decls:17,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content","",1,"sm:p-6","w-200"],[1,"",3,"formGroup"],[1,"flex","flex-col","w-full"],[1,"flex"],[1,"w-4/5","pl-2"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["required","",3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close","","cdkFocusInitial",""],["mat-button","",3,"disabled","click"],[3,"value"]],template:function(e,n){1&e&&(t.TgZ(0,"h2",0),t._uU(1,"Ajouter une Session de formation"),t.qZA(),t.TgZ(2,"div",1)(3,"form",2)(4,"div",3)(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),t._uU(8,"Session de Formation"),t.qZA(),t._UZ(9,"mat-icon",6),t.TgZ(10,"mat-select",7),t.YNc(11,B,2,2,"mat-option",8),t.qZA()()()()()(),t.TgZ(12,"div",9)(13,"button",10),t._uU(14,"Annuler"),t.qZA(),t.TgZ(15,"button",11),t.NdJ("click",function(){return n.onSubmit()}),t._uU(16,"Ajouter"),t.qZA()()),2&e&&(t.xp6(3),t.Q6J("formGroup",n.psessionForm),t.xp6(6),t.Q6J("svgIcon","heroicons_solid:book open"),t.xp6(1),t.Q6J("formControlName","idSession"),t.xp6(1),t.Q6J("ngForOf",n.session),t.xp6(4),t.Q6J("disabled",!n.psessionForm.valid))},directives:[c.uh,c.xY,s._Y,s.JL,s.sg,d.KE,d.hX,h.Hw,d.qo,C.gD,s.Q7,s.JJ,s.u,g.sg,q.ey,c.H8,v.lW,c.ZT],styles:[""]}),i})();var $=l(19602),x=l(92181);function z(i,a){if(1&i&&t._UZ(0,"img",45),2&i){const e=t.oxw();t.Q6J("src",e.imagepath+e.participant.photo,t.LSH)}}function V(i,a){1&i&&(t.TgZ(0,"th",46),t._uU(1," No. "),t.qZA())}const w=function(i){return["/custom/formations/",i]};function K(i,a){if(1&i&&(t.TgZ(0,"td",47),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("routerLink",t.VKq(2,w,e.id)),t.xp6(1),t.hij("",e.id," ")}}function G(i,a){1&i&&(t.TgZ(0,"th",46),t._uU(1," Formations "),t.qZA())}function X(i,a){if(1&i&&(t.TgZ(0,"td",47)(1,"label"),t._uU(2),t.qZA()()),2&i){const e=a.$implicit;t.Q6J("routerLink",t.VKq(2,w,e.id)),t.xp6(2),t.hij("",e.libelleFormation," ")}}function W(i,a){1&i&&(t.TgZ(0,"th",46),t._uU(1," Session "),t.qZA())}function tt(i,a){if(1&i&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.hij(" ",e.libelle,"")}}function et(i,a){1&i&&(t.TgZ(0,"th",46),t._uU(1," Periode "),t.qZA())}function it(i,a){if(1&i&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.AsE(" ",e.date_debut," au ",e.date_fin," ")}}function at(i,a){1&i&&(t.TgZ(0,"th",46),t._uU(1," Status "),t.qZA())}function nt(i,a){if(1&i&&(t.TgZ(0,"td",48),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.hij(" ",e.status," ")}}function ot(i,a){1&i&&(t.TgZ(0,"th",49),t._uU(1," Actions "),t.qZA())}function st(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"td",50)(1,"div",51)(2,"button",52),t._UZ(3,"mat-icon",15),t.qZA(),t.TgZ(4,"mat-menu",null,53)(6,"button",54),t._uU(7,"Archiver"),t.qZA(),t.TgZ(8,"button",55),t.NdJ("click",function(){const p=t.CHM(e).$implicit,m=t.oxw();return m.valider(p.id,m.participant.id)}),t._uU(9,"Valider"),t.qZA(),t.TgZ(10,"button",55),t.NdJ("click",function(){const p=t.CHM(e).$implicit,m=t.oxw();return m.getAttestation(p.id,m.participant.id)}),t._uU(11,"G\xe9n\xe9rer Attestation"),t.qZA()()()()}if(2&i){const e=t.MAs(5);t.xp6(2),t.Q6J("matMenuTriggerFor",e),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:dots-vertical")}}function rt(i,a){1&i&&t._UZ(0,"tr",56)}function lt(i,a){1&i&&t._UZ(0,"tr",57)}const pt=function(){return["/dashboards/project"]},ct=function(){return["/custom/participants"]},mt=[{path:"",component:E},{path:"",component:b},{path:":id",component:(()=>{class i{constructor(e,n,r){this.participantService=e,this._matDialog=n,this.route=r,this.imagepath="http://127.0.0.1:8000/storage/",this.participant=new f({}),this.dataSource=new o.by,this.displayedColumns=["id","formation","session","periode","status","actions"],this.route.params.subscribe(p=>{this.participant=new f(p),p.id&&this.participantService.get(p.id).subscribe(m=>{this.id=p.id,this.participant=m})})}ngOnInit(){this.getParticipants_Session()}getParticipants_Session(){this.participantService.getParticipants_Session(this.participant.id).subscribe(e=>{this.data=e})}addPartSession(){this.dialogRef=this._matDialog.open(U,{panelClass:"",data:{participant:this.participant}}),this.dialogRef.afterClosed().subscribe(e=>{!e||this._updateDataSource()})}_updateDataSource(){this.getParticipants_Session()}edit(){this.dialogRef=this._matDialog.open(b,{data:{participant:this.participant,action:"edit"}}),this.dialogRef.afterClosed().subscribe(e=>{!e||this.participantService.get(this.id).subscribe(n=>{this.participant=n})})}getAttestation(e,n){window.open("http://127.0.0.1:8000/api/generatePDF/"+e+"/"+n)}valider(e,n){this.participantService.valider(e,n).subscribe(r=>{this._updateDataSource()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Z),t.Y36(c.uw),t.Y36(u.gz))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-fiche"]],decls:131,vars:27,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","pr-6","pl-6","pt-1","pb-1","sm:px-10","border-b","bg-card","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex","flex-wrap","items-center","font-medium"],["routerLinkActive","router-link-active",1,"whitespace-nowrap","text-primary-500",3,"routerLink"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-default-500"],[1,"flex-auto","p-6","pt-6"],[1,"border-dashed","border-gray-300","rounded-2xl","mt-10"],[1,"flex","flex-col","max-w-300","w-full","px-8","pt-6","pb-4","filter-list"],[1,"flex","items-center","justify-between"],[1,"text-2xl","font-semibold","leading-tight"],[1,"flex","items-center","ml-auto","mb-1"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"flex","flex-col","mt-5"],[1,"flex","flex-col","w-full"],[1,"flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card"],["class","object-cover w-full h-full",3,"src",4,"ngIf"],[1,"flex","mb-3","mt-5"],[1,"w-1/3","pr-2","flex"],[1,"w-1/2","text-l","font-semibold","leading-tight"],[1,"w-1/2"],[1,"w-1/3","pl-2","flex"],[1,"flex","mb-3","mt-3"],[1,"flex","flex-col","max-w-300","w-full","px-8","pt-6","pb-4","filter-list","mt-6"],["mat-flat-button","",1,"ml-4",3,"color","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],["mat-table","",1,"mat-elevation-z1","w-full",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"routerLink",4,"matCellDef"],["matColumnDef","formation"],["matColumnDef","session"],["mat-cell","",4,"matCellDef"],["matColumnDef","periode"],["matColumnDef","status"],["matColumnDef","actions"],["mat-header-cell","","class","mdd2",4,"matHeaderCellDef"],["mat-cell","","class","text-justify",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"object-cover","w-full","h-full",3,"src"],["mat-header-cell",""],["mat-cell","",3,"routerLink"],["mat-cell",""],["mat-header-cell","",1,"mdd2"],["mat-cell","",1,"text-justify"],[1,"ml-2","-mt-2","-mr-3"],["mat-icon-button","",3,"matMenuTriggerFor"],["featuresMenu","matMenu"],["mat-menu-item",""],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div")(5,"a",4),t._uU(6,"Tableau de board"),t.qZA()(),t.TgZ(7,"div",5),t._UZ(8,"mat-icon",6),t.TgZ(9,"a",4),t._uU(10,"Participants"),t.qZA()(),t.TgZ(11,"div",5),t._UZ(12,"mat-icon",6),t.TgZ(13,"a",7),t._uU(14),t.qZA()()()()(),t.TgZ(15,"div",8)(16,"div",9)(17,"fuse-card",10)(18,"div",11)(19,"div",12),t._uU(20,"Informations personnelles"),t.qZA(),t.TgZ(21,"div",13)(22,"button",14),t.NdJ("click",function(){return n.edit()}),t._UZ(23,"mat-icon",15),t.TgZ(24,"span",16),t._uU(25,"Modifier"),t.qZA()()()(),t.TgZ(26,"div",17)(27,"div",18)(28,"div",19),t.YNc(29,z,1,1,"img",20),t.qZA(),t.TgZ(30,"div",21)(31,"div",22)(32,"mat-label",23),t._uU(33,"Nom : "),t.qZA(),t.TgZ(34,"mat-label",24),t._uU(35),t.qZA()(),t.TgZ(36,"div",25)(37,"mat-label",23),t._uU(38,"Prenom : "),t.qZA(),t.TgZ(39,"mat-label",24),t._uU(40),t.qZA()(),t.TgZ(41,"div",22)(42,"mat-label",23),t._uU(43,"Genre : "),t.qZA(),t.TgZ(44,"mat-label",24),t._uU(45),t.qZA()()(),t.TgZ(46,"div",26)(47,"div",22)(48,"mat-label",23),t._uU(49,"Profession : "),t.qZA(),t.TgZ(50,"mat-label",24),t._uU(51),t.qZA()(),t.TgZ(52,"div",25)(53,"mat-label",23),t._uU(54,"Contact : "),t.qZA(),t.TgZ(55,"mat-label",24),t._uU(56),t.qZA()(),t.TgZ(57,"div",25)(58,"mat-label",23),t._uU(59,"Email : "),t.qZA(),t.TgZ(60,"mat-label",24),t._uU(61),t.qZA()()(),t.TgZ(62,"div",26)(63,"div",22)(64,"mat-label",23),t._uU(65,"Date_naissance : "),t.qZA(),t.TgZ(66,"mat-label",24),t._uU(67),t.qZA()(),t.TgZ(68,"div",25)(69,"mat-label",23),t._uU(70,"Lieu_naissance : "),t.qZA(),t.TgZ(71,"mat-label",24),t._uU(72),t.qZA()(),t.TgZ(73,"div",25)(74,"mat-label",23),t._uU(75,"Pays_naissance : "),t.qZA(),t.TgZ(76,"mat-label",24),t._uU(77),t.qZA()()(),t.TgZ(78,"div",26)(79,"div",22)(80,"mat-label",23),t._uU(81,"Numero du cnib : "),t.qZA(),t.TgZ(82,"mat-label",24),t._uU(83),t.qZA()(),t.TgZ(84,"div",25)(85,"mat-label",23),t._uU(86,"Date d'\xe9tablissement : "),t.qZA(),t.TgZ(87,"mat-label",24),t._uU(88),t.qZA()(),t.TgZ(89,"div",25)(90,"mat-label",23),t._uU(91,"Lieu d'\xe9tablissement : "),t.qZA(),t.TgZ(92,"mat-label",24),t._uU(93),t.qZA()()(),t.TgZ(94,"div",26)(95,"div",25)(96,"mat-label",23),t._uU(97,"Dernier Diplome : "),t.qZA(),t.TgZ(98,"mat-label",24),t._uU(99),t.qZA()()()()()(),t.TgZ(100,"fuse-card",27)(101,"div",11)(102,"div",12),t._uU(103,"Formations"),t.qZA(),t.TgZ(104,"button",28),t.NdJ("click",function(){return n.addPartSession()}),t._UZ(105,"mat-icon",29),t.TgZ(106,"span",30),t._uU(107,"Ajouter"),t.qZA()()(),t.TgZ(108,"div",17)(109,"div",18)(110,"table",31),t.ynx(111,32),t.YNc(112,V,2,0,"th",33),t.YNc(113,K,2,4,"td",34),t.BQk(),t.ynx(114,35),t.YNc(115,G,2,0,"th",33),t.YNc(116,X,3,4,"td",34),t.BQk(),t.ynx(117,36),t.YNc(118,W,2,0,"th",33),t.YNc(119,tt,2,1,"td",37),t.BQk(),t.ynx(120,38),t.YNc(121,et,2,0,"th",33),t.YNc(122,it,2,2,"td",37),t.BQk(),t.ynx(123,39),t.YNc(124,at,2,0,"th",33),t.YNc(125,nt,2,1,"td",37),t.BQk(),t.ynx(126,40),t.YNc(127,ot,2,0,"th",41),t.YNc(128,st,12,2,"td",42),t.BQk(),t.YNc(129,rt,1,0,"tr",43),t.YNc(130,lt,1,0,"tr",44),t.qZA()()()()()()()),2&e&&(t.xp6(5),t.Q6J("routerLink",t.DdM(25,pt)),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:chevron-right"),t.xp6(1),t.Q6J("routerLink",t.DdM(26,ct)),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:chevron-right"),t.xp6(2),t.Oqu(n.id),t.xp6(9),t.Q6J("svgIcon","heroicons_solid:pencil-alt"),t.xp6(6),t.Q6J("ngIf",n.participant.photo),t.xp6(6),t.Oqu(n.participant.name),t.xp6(5),t.Oqu(n.participant.prenom),t.xp6(5),t.Oqu(n.participant.genre),t.xp6(6),t.Oqu(n.participant.profession),t.xp6(5),t.Oqu(n.participant.contact),t.xp6(5),t.Oqu(n.participant.email),t.xp6(6),t.Oqu(n.participant.date_naissance),t.xp6(5),t.Oqu(n.participant.lieu_naissance),t.xp6(5),t.Oqu(n.participant.Pays_naissance),t.xp6(6),t.Oqu(n.participant.numero_cnib),t.xp6(5),t.Oqu(n.participant.date_etablissement),t.xp6(5),t.Oqu(n.participant.lieu_etablissement),t.xp6(6),t.Oqu(n.participant.dernier_diplome),t.xp6(5),t.Q6J("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:plus"),t.xp6(5),t.Q6J("dataSource",n.data),t.xp6(19),t.Q6J("matHeaderRowDef",n.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",n.displayedColumns))},directives:[u.yS,u.Od,h.Hw,$.y,v.lW,g.O5,d.hX,o.BZ,o.w1,o.fO,o.ge,o.Dz,o.ev,u.rH,x.p6,x.VK,x.OP,o.as,o.XQ,o.nj,o.Gk],styles:[".mat-row[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{cursor:pointer}.mat-row[_ngcontent-%COMP%]:hover   .mat-cell[_ngcontent-%COMP%]{background-color:#e2e8f0}.mdd2[_ngcontent-%COMP%]{width:5%!important}"]}),i})()},{path:":id",component:U}];let dt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[g.ez,u.Bz.forChild(mt),h.Ps,R.m]]}),i})()}}]);