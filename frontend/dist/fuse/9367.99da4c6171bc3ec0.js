"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[9367],{39211:(O,x,i)=>{i.d(x,{j:()=>M});var f=i(61135),g=i(18505),n=i(95698),l=i(54004),h=i(63900),v=i(62843),m=i(39646),p=i(5e3),u=i(40520);let M=(()=>{class c{constructor(r){this._httpClient=r,this._item=new f.X(null),this._items=new f.X(null)}get items$(){return this._items.asObservable()}get item$(){return this._item.asObservable()}getItems(r=null){return this._httpClient.get("api/apps/file-manager",{params:{folderId:r}}).pipe((0,g.b)(_=>{this._items.next(_)}))}getItemById(r){return this._items.pipe((0,n.q)(1),(0,l.U)(_=>{const d=[..._.folders,..._.files].find(E=>E.id===r)||null;return this._item.next(d),d}),(0,h.w)(_=>_?(0,m.of)(_):(0,v._)("Could not found the item with id of "+r+"!")))}}return c.\u0275fac=function(r){return new(r||c)(p.LFG(u.eN))},c.\u0275prov=p.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"}),c})()},39367:(O,x,i)=>{i.d(x,{l:()=>P});var f=i(77579),g=i(82722),n=i(5e3),l=i(4521),h=i(39211),v=i(94880),m=i(2638),p=i(69808),u=i(47423),M=i(25245),c=i(87238);const T=["matDrawer"];function r(t,o){if(1&t&&(n.ynx(0),n._uU(1),n.BQk()),2&t){const e=n.oxw();n.xp6(1),n.AsE(" ",e.items.folders.length," folders, ",e.items.files.length," files ")}}const _=function(t){return["/apps/file-manager/folders/",t]};function d(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"a",17),n._uU(2),n.qZA(),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(1),n.Q6J("routerLink",n.VKq(2,_,e.id)),n.xp6(1),n.Oqu(e.name)}}function E(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div"),n._uU(2),n.qZA(),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(e.name)}}function Z(t,o){1&t&&(n.ynx(0),n.TgZ(1,"div",18),n._uU(2,"/"),n.qZA(),n.BQk())}function A(t,o){if(1&t&&(n.ynx(0),n.YNc(1,d,3,4,"ng-container",9),n.YNc(2,E,3,1,"ng-container",9),n.YNc(3,Z,3,0,"ng-container",9),n.BQk()),2&t){const e=o.last;n.xp6(1),n.Q6J("ngIf",!e),n.xp6(1),n.Q6J("ngIf",e),n.xp6(1),n.Q6J("ngIf",!e)}}const D=function(){return["/apps/file-manager"]};function L(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",16)(2,"a",17),n._uU(3,"Home "),n.qZA(),n.TgZ(4,"div",18),n._uU(5,"/"),n.qZA(),n.YNc(6,A,4,3,"ng-container",19),n.qZA(),n.BQk()),2&t){const e=n.oxw();n.xp6(2),n.Q6J("routerLink",n.DdM(3,D)),n.xp6(4),n.Q6J("ngForOf",e.items.path)("ngForTrackBy",e.trackByFn)}}function y(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",32),n._uU(2),n.qZA(),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(e.contents)}}const C=function(t){return["./details/",t]};function I(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",23)(2,"a",24),n.NdJ("click",function(a){return a.preventDefault()}),n._UZ(3,"mat-icon",25),n.qZA(),n.TgZ(4,"a",26)(5,"div",27)(6,"div",28),n._UZ(7,"mat-icon",29),n.qZA()(),n.TgZ(8,"div",30)(9,"div",31),n._uU(10),n.qZA(),n.YNc(11,y,3,1,"ng-container",9),n.qZA()()(),n.BQk()),2&t){const e=o.$implicit;n.xp6(2),n.Q6J("routerLink",n.VKq(7,C,e.id)),n.xp6(1),n.Q6J("svgIcon","heroicons_solid:information-circle"),n.xp6(1),n.Q6J("routerLink",n.VKq(9,_,e.id)),n.xp6(3),n.Q6J("svgIcon","iconsmind:folder"),n.xp6(2),n.Q6J("matTooltip",e.name),n.xp6(1),n.Oqu(e.name),n.xp6(1),n.Q6J("ngIf",e.contents)}}function F(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div")(2,"div",21),n._uU(3,"Folders"),n.qZA(),n.TgZ(4,"div",22),n.YNc(5,I,12,11,"ng-container",19),n.qZA()(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(5),n.Q6J("ngForOf",e.items.folders)("ngForTrackBy",e.trackByFn)}}function k(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",32),n._uU(2),n.qZA(),n.BQk()),2&t){const e=n.oxw().$implicit;n.xp6(2),n.Oqu(e.contents)}}function b(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"a",33)(2,"div",27)(3,"div",28)(4,"div",34),n._UZ(5,"mat-icon",29),n.TgZ(6,"div",35),n._uU(7),n.qZA()()()(),n.TgZ(8,"div",30)(9,"div",31),n._uU(10),n.qZA(),n.YNc(11,k,3,1,"ng-container",9),n.qZA()(),n.BQk()),2&t){const e=o.$implicit;n.xp6(1),n.Q6J("routerLink",n.VKq(16,C,e.id)),n.xp6(4),n.Q6J("svgIcon","iconsmind:file"),n.xp6(1),n.ekj("bg-red-600","PDF"===e.type)("bg-blue-600","DOC"===e.type)("bg-green-600","XLS"===e.type)("bg-gray-600","TXT"===e.type)("bg-amber-600","JPG"===e.type),n.xp6(1),n.hij(" ",e.type.toUpperCase()," "),n.xp6(2),n.Q6J("matTooltip",e.name),n.xp6(1),n.Oqu(e.name),n.xp6(1),n.Q6J("ngIf",e.contents)}}function B(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div")(2,"div",21),n._uU(3,"Files"),n.qZA(),n.TgZ(4,"div",22),n.YNc(5,b,12,18,"ng-container",19),n.qZA()(),n.BQk()),2&t){const e=n.oxw(2);n.xp6(5),n.Q6J("ngForOf",e.items.files)("ngForTrackBy",e.trackByFn)}}function U(t,o){if(1&t&&(n.ynx(0),n.TgZ(1,"div",20),n.YNc(2,F,6,2,"ng-container",9),n.YNc(3,B,6,2,"ng-container",9),n.qZA(),n.BQk()),2&t){const e=n.oxw();n.xp6(2),n.Q6J("ngIf",e.items.folders.length>0),n.xp6(1),n.Q6J("ngIf",e.items.files.length>0)}}function Q(t,o){1&t&&(n.TgZ(0,"div",36),n._UZ(1,"mat-icon",37),n.TgZ(2,"div",38),n._uU(3,"There are no items!"),n.qZA()()),2&t&&(n.xp6(1),n.Q6J("svgIcon","iconsmind:file_hide"))}let P=(()=>{class t{constructor(e,a,s,R,J){this._activatedRoute=e,this._changeDetectorRef=a,this._router=s,this._fileManagerService=R,this._fuseMediaWatcherService=J,this._unsubscribeAll=new f.x}ngOnInit(){this._fileManagerService.items$.pipe((0,g.R)(this._unsubscribeAll)).subscribe(e=>{this.items=e,this._changeDetectorRef.markForCheck()}),this._fileManagerService.item$.pipe((0,g.R)(this._unsubscribeAll)).subscribe(e=>{this.selectedItem=e,this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaQueryChange$("(min-width: 1440px)").pipe((0,g.R)(this._unsubscribeAll)).subscribe(e=>{this.drawerMode=e.matches?"side":"over",this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}trackByFn(e,a){return a.id||e}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(l.gz),n.Y36(n.sBO),n.Y36(l.F0),n.Y36(h.j),n.Y36(v.T))},t.\u0275cmp=n.Xpm({type:t,selectors:[["file-manager-list"]],viewQuery:function(e,a){if(1&e&&n.Gf(T,7),2&e){let s;n.iGM(s=n.CRH())&&(a.matDrawer=s.first)}},decls:22,vars:10,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent",3,"backdropClick"],[1,"w-full","sm:w-100","dark:bg-gray-900",3,"mode","opened","position","disableClose"],["matDrawer",""],[1,"flex","flex-col","bg-gray-100","dark:bg-transparent"],[1,"flex","flex-col","flex-auto"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","sm:justify-between","p-6","sm:py-12","md:px-8","border-b","bg-card","dark:bg-transparent"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"flex","items-center","mt-0.5","font-medium","text-secondary"],[4,"ngIf"],[1,"mt-4","sm:mt-0"],["mat-flat-button","",3,"color"],[3,"svgIcon"],[1,"ml-2","mr-1"],[4,"ngIf","ngIfElse"],["noItems",""],[1,"flex","items-center","space-x-2"],[1,"text-primary","cursor-pointer",3,"routerLink"],[1,""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"p-6","md:p-8","space-y-8"],[1,"font-medium"],[1,"flex","flex-wrap","-m-2","mt-2"],[1,"relative","w-40","h-40","m-2","p-4","shadow","rounded-2xl","bg-card"],["mat-icon-button","",1,"absolute","z-20","top-1.5","right-1.5","w-8","h-8","min-h-8",3,"routerLink","click"],[1,"icon-size-5",3,"svgIcon"],[1,"z-10","absolute","inset-0","flex","flex-col","p-4","cursor-pointer",3,"routerLink"],[1,"aspect-w-9","aspect-h-6"],[1,"flex","items-center","justify-center"],[1,"icon-size-14","text-hint",3,"svgIcon"],[1,"flex","flex-col","flex-auto","justify-center","text-center","text-sm","font-medium"],[1,"truncate",3,"matTooltip"],[1,"text-secondary","truncate"],[1,"flex","flex-col","w-40","h-40","m-2","p-4","shadow","rounded-2xl","cursor-pointer","bg-card",3,"routerLink"],[1,"relative"],[1,"absolute","left-0","bottom-0","px-1.5","rounded","text-sm","font-semibold","leading-5","text-white"],[1,"flex","flex-auto","flex-col","items-center","justify-center","bg-gray-100","dark:bg-transparent"],[1,"icon-size-24",3,"svgIcon"],[1,"mt-4","text-2xl","font-semibold","tracking-tight","text-secondary"]],template:function(e,a){if(1&e&&(n.TgZ(0,"div",0)(1,"mat-drawer-container",1),n.NdJ("backdropClick",function(){return a.onBackdropClicked()}),n.TgZ(2,"mat-drawer",2,3),n._UZ(4,"router-outlet"),n.qZA(),n.TgZ(5,"mat-drawer-content",4)(6,"div",5)(7,"div",6)(8,"div")(9,"div",7),n._uU(10,"File Manager"),n.qZA(),n.TgZ(11,"div",8),n.YNc(12,r,2,2,"ng-container",9),n.YNc(13,L,7,4,"ng-container",9),n.qZA()(),n.TgZ(14,"div",10)(15,"button",11),n._UZ(16,"mat-icon",12),n.TgZ(17,"span",13),n._uU(18,"Upload file"),n.qZA()()()(),n.YNc(19,U,4,2,"ng-container",14),n.YNc(20,Q,4,1,"ng-template",null,15,n.W1O),n.qZA()()()()),2&e){const s=n.MAs(21);n.xp6(2),n.Q6J("mode",a.drawerMode)("opened",!1)("position","end")("disableClose",!0),n.xp6(10),n.Q6J("ngIf",!a.items.path.length),n.xp6(1),n.Q6J("ngIf",a.items.path.length),n.xp6(2),n.Q6J("color","primary"),n.xp6(1),n.Q6J("svgIcon","heroicons_outline:plus"),n.xp6(3),n.Q6J("ngIf",a.items&&(a.items.folders.length>0||a.items.files.length>0))("ngIfElse",s)}},directives:[m.kh,m.jA,l.lC,m.LW,p.O5,l.yS,p.sg,u.lW,M.Hw,u.zs,c.gM],encapsulation:2,changeDetection:0}),t})()}}]);